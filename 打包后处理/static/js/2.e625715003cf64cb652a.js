webpackJsonp([2],{"/1HF":function(t,e){},vF69:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s("Xxa5"),a=s.n(r),i=s("exGp"),n=s.n(i),o=(s("mCTZ"),s("P9l9")),c={data:function(){return{orderList:[],orderTotle:0,orderLimit:2,orderCurPage:1,userName:"",className:"",countDown:0,timeoutObj:null}},mounted:function(){this.init(),this.$refs.scrollOrder.addEventListener("scroll",this.checkScroll)},destroyed:function(){clearTimeout(this.timeoutObj)},methods:{init:function(){var t=this;return n()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.userName=window.localStorage.getItem("card_username"),t.className=window.localStorage.getItem("className"),t.countDown=window.countDownTime,t.countDownInterval(),t.getOrderList();case 5:case"end":return e.stop()}},e,t)}))()},countDownInterval:function(){var t=this;this.timeoutObj=setTimeout(function(){t.countDown--,t.countDown>0&&t.countDownInterval()},1e3)},getOrderList:function(){var t=this;return n()(a.a.mark(function e(){var s,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(s={}).limit=t.orderLimit,s.page=t.orderCurPage,s.userCode=window.localStorage.getItem("card_oauserid"),e.next=6,o.h(s);case 6:r=e.sent,t.orderTotle=r.value.totalCount,t.orderList.push.apply(t.orderList,r.value.dataList),t.checkScroll();case 10:case"end":return e.stop()}},e,t)}))()},backMall:function(){this.$router.push({path:"mall"})},statusStr:function(t){switch(t){case 0:return"<span class='stat_1'>待领取</span>";case 1:return"<span class='stat_2'>已领取</span>";case-1:return"<span class='stat_3'>已退单</span>"}},checkScroll:function(){var t=this;this.$nextTick(function(){var e=t.$refs.scrollOrder.scrollTop,s=t.$refs.scrollOrder.clientHeight,r=t.$refs.scrollOrder.scrollHeight;t.orderCurPage<Math.ceil(t.orderTotle/t.orderLimit)&&e+s+40>r&&(t.orderCurPage++,t.getOrderList())})}}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mainFrame appabs"},[s("div",{staticClass:"frameHead"},[s("div",{staticClass:"leftHead"},[s("div",{staticClass:"backPage",on:{click:t.backMall}},[t._v("我的订单")])]),t._v(" "),s("div",{staticClass:"rightHead"},[s("div",{staticClass:"info"},[s("span",[t._v(t._s(t.userName))]),s("span",[t._v(t._s(t.className))]),s("span",[t._v("退出("+t._s(t.countDown)+"s)")])])])]),t._v(" "),s("div",{staticClass:"frameBody"},[s("div",{staticClass:"orderSum"},[t._v("共 "),s("span",[t._v(t._s(t.orderTotle))]),t._v(" 个订单")]),t._v(" "),s("div",{staticClass:"orderTable"},[t._m(0),t._v(" "),s("div",{ref:"scrollOrder",staticClass:"tableMain"},[s("div",{ref:"orderList",staticClass:"fl wfull"},[s("table",{staticClass:"tableBody",attrs:{cellspacing:"0",cellpadding:"0"}},t._l(t.orderList,function(e,r){return s("tr",{key:r},[s("td",{attrs:{width:"30%"}},[t._v(t._s(e.createTime))]),t._v(" "),s("td",{attrs:{width:"40%"}},[t._v(t._s(e.goodsName))]),t._v(" "),s("td",{attrs:{width:"10%"}},[t._v(t._s(e.price))]),t._v(" "),s("td",{attrs:{width:"20%"},domProps:{innerHTML:t._s(t.statusStr(e.status))}})])}),0)])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("table",{staticClass:"tableHead"},[e("tr",[e("td",{attrs:{width:"30%"}},[this._v("时间")]),this._v(" "),e("td",{attrs:{width:"40%"}},[this._v("商品")]),this._v(" "),e("td",{attrs:{width:"10%"}},[this._v("勋章")]),this._v(" "),e("td",{attrs:{width:"20%"}},[this._v("状态")])])])}]};var d=s("VU/8")(c,l,!1,function(t){s("/1HF"),s("vHIK")},"data-v-44bbe032",null);e.default=d.exports},vHIK:function(t,e){}});
//# sourceMappingURL=2.e625715003cf64cb652a.js.map